(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function e(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=e(t);fetch(t.href,o)}})();const c=n=>{const a=document.createElement("div"),e=document.createElement("img");return e.src=n.flagUrl,e.alt=`${n.name} flag`,a.appendChild(e),e},i=(n,a)=>{const e=document.createElement("div"),r=document.createElement("strong");r.innerText=`${n}: `;const t=document.createElement("span");return t.innerText=a,e.appendChild(r),e.appendChild(t),e},g=n=>{const a=document.createElement("li"),e=document.createElement("a");e.href=`?country=${n.code}`,e.append(c(n));const r=document.createElement("div");r.classList.add("info-container");const t=document.createElement("strong");return t.classList.add("country-name"),t.innerText=n.name,r.appendChild(t),r.appendChild(i("Population",String(n.population))),r.appendChild(i("Region",n.region)),r.appendChild(i("Capital",n.capital)),e.appendChild(r),a.appendChild(e),a},f=n=>{const a=document.createElement("ul");return n.forEach(e=>{a.appendChild(g(e))}),a},E=n=>{const a=document.createElement("div");a.classList.add("detail-container");const e=c(n),r=document.createElement("div");r.classList.add("detail-content");const t=document.createElement("strong");t.innerText=n.name,t.classList.add("detail-name"),a.appendChild(e),r.appendChild(t);const o=document.createElement("div");o.appendChild(i("Population: ",n.population)),o.appendChild(i("Region: ",n.region)),o.appendChild(i("Sub region: ",n.subregion)),o.appendChild(i("Capital: ",n.capital));const l=document.createElement("div");return l.appendChild(i("Top level domain: ",n.tld)),l.appendChild(i("Currencies: ",n.currencies)),l.appendChild(i("Languages: ",n.languages)),a.appendChild(r),r.appendChild(o),r.appendChild(l),n.borders&&n.borders.length>0&&r.appendChild(C(n)),a},m=(n,a)=>{const e=document.createElement("a");return e.innerText=n,e.classList.add("detail-button"),e.href=a,e},C=n=>{const a=document.createElement("div");a.classList.add("border-countries-container");const e=document.createElement("strong");return e.innerText="Border Countries: ",a.appendChild(e),n.borders.forEach(r=>{a.appendChild(m(r,`/?country=${r}`))}),a},d=n=>{const a=document.querySelector("#root");a.innerHTML="",a.appendChild(f(n))},L=n=>{const a=document.querySelector("#root");a.innerHTML="",a.appendChild(m("Go back","/")),a.appendChild(E(n))},p=async(n,a)=>{try{const e=await fetch(n);if(e.ok)a=(await e.json()).map(t=>({capital:t.capital&&t.capital[0],population:t.population.toLocaleString(),code:t.cioc,name:t.name.common,region:t.region,subregion:t.subregion,flagUrl:t.flags.png,currencies:t.currencies&&Object.keys(t.currencies)[0],languages:t.languages&&Object.keys(t.languages)[0],tld:t.tld&&t.tld[0],borders:t.borders}));else throw new Error(`${e.status}`)}catch(e){console.log(`Error: ${e}`)}return a},u=(n,a,e,r)=>(r=e.filter(t=>t.region===a&&t.name.toLowerCase().includes(n)),r),h=(n,a,e)=>(e=a.filter(r=>r.region===n||r.name.toLowerCase().includes(n)),e),b=(n,a,e,r,t)=>(a!=""&&a!=null?e=u(n,a,t,r):e=h(n,t,e),e),v=(n,a,e,r)=>(n!=""&&n!=null?e=u(n,a,r,e):e=h(a,r,e),document.querySelector("#select_option").setAttribute("disabled","true"),e),w="https://restcountries.com/v3.1/all",S=async()=>{let n,a,e,r,t;const o=await p(w,n);d(o),document.querySelector("#countryNameInput").addEventListener("input",l=>{l.target instanceof HTMLInputElement&&(a=l.target.value.toLowerCase().trim(),r=b(a,e,r,t,o),d(r))}),document.querySelector("#regionSelect").addEventListener("change",l=>{l.target instanceof HTMLSelectElement&&(e=l.target.value,t=v(a,e,t,o),d(t))})},q=async()=>{let n;const e=new URLSearchParams(window.location.search).get("country"),r=`https://restcountries.com/v3.1/alpha/${e}`;if(!e)I();else{const t=await p(r,n);L(t[0])}},I=()=>{window.location.href="/"};window.location.search.includes("?country=")?q():(document.querySelector(".filters").classList.add("active"),S());const P=document.querySelector("#theme-button");let s=localStorage.getItem("theme");P.addEventListener("click",()=>{s==="dark"?(document.querySelector("body").classList.remove("dark"),document.querySelector("body").classList.add("light"),s="light"):(document.querySelector("body").classList.remove("light"),document.querySelector("body").classList.add("dark"),s="dark"),localStorage.setItem("theme",s)});s==="dark"&&document.querySelector("body").classList.add("dark");s==="light"&&document.querySelector("body").classList.add("ligh");
